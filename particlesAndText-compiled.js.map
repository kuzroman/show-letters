{"version":3,"sources":["particlesAndText.js"],"names":[],"mappings":"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","file":"particlesAndText-compiled.js","sourcesContent":["\"use strict\";\r\n\r\n(function($){\r\n    var o = $({});\r\n    $.subscribe = function() {\r\n        o.bind.apply(o, arguments);\r\n    };\r\n    $.unsubscribe = function() {\r\n        o.unbind.apply(o, arguments);\r\n    };\r\n    $.publish = function() {\r\n        o.trigger.apply(o, arguments);\r\n    };\r\n})(jQuery);\r\n\r\n//////////////////////////////////////////////////////////\r\n\r\n$(function () {\r\n    engravingText.init();\r\n});\r\n\r\nwindow.engravingText = {};\r\n\r\nengravingText.p = { // params\r\n    W: window.innerWidth,\r\n    H: window.innerHeight,\r\n    bits: [],\r\n    isBitsFell: false, // ������� �����?\r\n    letters: [],\r\n    bitsSpeed: 15,\r\n    letterSpeed: 10\r\n};\r\nengravingText.p.canvas = document.getElementById('loader');\r\nengravingText.p.ctx = engravingText.p.canvas.getContext(\"2d\");\r\n\r\n\r\n\r\nengravingText.init = function () {\r\n    this.events();\r\n\r\n    this.p.canvas.width = this.p.W;\r\n    this.p.canvas.height = this.p.H;\r\n\r\n    var aim = new this.LoaderLetters();\r\n    aim.addText();\r\n    aim.showText();\r\n\r\n};\r\n\r\nengravingText.events = function () {\r\n    var isAnimStarted = false;\r\n\r\n    $.subscribe('letterShowed', (ev, positions) => {\r\n        this.addBits(positions);\r\n        if (!isAnimStarted) {\r\n            isAnimStarted = true;\r\n            this.animationBits();\r\n        }\r\n    });\r\n};\r\n\r\n\r\nengravingText.LoaderLetters = function () {\r\n    this.speed = engravingText.p.letterSpeed || 0;\r\n    this.x = 0;\r\n    this.y = 0;\r\n\r\n    var typingCenter = $('#typingCenter');\r\n    var box = typingCenter.find('div');\r\n\r\n    var description = 'Hello, my name is Roman Kuznetsov.|' +\r\n        'I am a web Front-End Engineer and UX enthusiast.|' +\r\n        'Check out my latest web components and brackets.io extensions at my lab page .|' +\r\n        'Feel free to take a look at my most recent projects on my work page.|' +\r\n        'Also you can stop and say hello at kuzroman@list.ru';\r\n\r\n    this.addText = function () {\r\n        var el, len = description.length;\r\n        box.html('');\r\n        for (var i = 0; i < len; i++) {\r\n            if (description[i] == '|') el = $('<br>');\r\n            else el = $('<i>').text(description[i]);\r\n            box.append(el);\r\n            if (len-1 <= i) {\r\n                engravingText.p.letters = this.createAims();\r\n            }\r\n        }\r\n    };\r\n\r\n    this.showText = function () {\r\n        var i = 0, isInt\r\n            ,letters = engravingText.p.letters\r\n            ,len = letters.length\r\n            ;\r\n\r\n        isInt = setInterval( () => {\r\n            // draw letters\r\n            if (i <= len-1) {\r\n                letters[i]['el'].css({opacity:1});\r\n                this.x = letters[i].x1;\r\n                this.y = letters[i].y2;\r\n\r\n                $.publish('letterShowed', {x:this.x, y:this.y} );\r\n            }\r\n\r\n            if (engravingText.p.isBitsFell) clearInterval(isInt);\r\n\r\n            i++;\r\n        }, this.speed);\r\n\r\n    };\r\n\r\n    this.createAims = function () {\r\n        var objList = [];\r\n        typingCenter.find('i').each(function (n) {\r\n            var s = $(this); // s = symbol\r\n\r\n            objList[n] = {\r\n                el: s,\r\n                killed: false,\r\n                x1: ~~s.offset().left,\r\n                x2: ~~( s.offset().left + s.width() ),\r\n                y1: ~~s.offset().top,\r\n                y2: ~~( s.offset().top + s.height() )\r\n            };\r\n        });\r\n        return objList;\r\n    };\r\n};\r\n\r\n\r\n/////////////////////////////////////////////////////////////\r\n\r\n\r\nengravingText.addBits = function (positions) {\r\n    for (var i = 0; i < 3; i++) {\r\n        var bit = new this.Bit(positions.x, positions.y);\r\n        this.p.bits.push(bit);\r\n    }\r\n};\r\nengravingText.animationBits = function () {\r\n    setInterval( () => {\r\n        engravingText.clearCanvas();\r\n        engravingText.updateBit();\r\n    },this.p.bitsSpeed)\r\n};\r\n\r\nengravingText.Bit = function (currentX, currentY) {\r\n    this.x = currentX || 0;\r\n    this.y = currentY || 0;\r\n    var p = engravingText.p;\r\n\r\n    this.g = -Math.round( Math.random() * 50) / 10;\r\n\r\n    this.draw = function () {\r\n        p.ctx.fillStyle = '#fff';\r\n        var size = Math.random() * 3 + 1;\r\n        p.ctx.fillRect(this.x, this.y, size, size);\r\n    }\r\n};\r\n\r\nengravingText.clearCanvas = function () {\r\n    this.p.ctx.fillStyle = \"#272822\";\r\n    this.p.ctx.fillRect(0, 0, this.p.W, this.p.H);\r\n};\r\n\r\nengravingText.updateBit = function () {\r\n    var bits = this.p.bits;\r\n\r\n    for (var j = 0; j < bits.length; j++) {\r\n        var b = bits[j];\r\n        b.y -= b.g;\r\n        b.g -= 0.1;\r\n\r\n        if (this.p.H < b.y) bits.splice(j,1);\r\n        b.draw();\r\n    }\r\n\r\n    if (!bits.length) {\r\n        this.p.isBitsFell = true;\r\n    }\r\n};\r\n"]}